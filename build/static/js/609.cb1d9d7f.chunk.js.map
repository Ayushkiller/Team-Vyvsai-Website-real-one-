{"version":3,"file":"static/js/609.cb1d9d7f.chunk.js","mappings":"qMAMA,MA4EA,EA5EcA,IAAkB,IAAjB,QAAEC,GAASD,EACxB,MAAOE,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,CAAEC,SAAU,GAAIC,SAAU,MAC5DC,EAAcC,IAAmBJ,EAAAA,EAAAA,UAAS,CAC/CK,MAAO,GACPC,WAAW,IAEPC,GAAWC,EAAAA,EAAAA,MAEXC,GAAeC,EAAAA,EAAAA,cAAaC,IAChC,MAAM,KAAEC,EAAI,MAAEC,GAAUF,EAAEG,OAC1Bf,GAAagB,IAAQ,IAAWA,EAAU,CAACH,GAAOC,KAAS,GAC1D,IAiCH,OACEG,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,UAC5BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,UACHf,EAAaE,QAASW,EAAAA,EAAAA,KAAA,KAAGC,UAAU,QAAOC,SAAEf,EAAaE,SAC1Dc,EAAAA,EAAAA,MAAA,QAAMC,SApCSC,UACnBV,EAAEW,iBACFlB,EAAgB,CAAEC,MAAO,GAAIC,WAAW,IAExC,IACE,MAAMiB,QAAiBC,EAAAA,EAAMC,KAC3B,mCACA3B,GAGEyB,EAASG,KAAKC,SAChBC,EAAAA,EAAQC,IAAI,OAAQ,QACpBhC,GAAQ,GACRU,EAAS,MAETH,EAAgB,CACdC,MACEkB,EAASG,KAAKI,SACd,4CACFxB,WAAW,GAGjB,CAAE,MAAOyB,GACPC,QAAQ3B,MAAM,eAAgB0B,GAC9B3B,EAAgB,CACdC,MAAO,oDACPC,WAAW,GAEf,GAQiCY,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,SACEiB,KAAK,OACLrB,KAAK,WACLsB,YAAY,gBACZrB,MAAOf,EAASG,SAChBkC,SAAU1B,EACV2B,UAAQ,KAEVpB,EAAAA,EAAAA,KAAA,SACEiB,KAAK,WACLrB,KAAK,WACLsB,YAAY,WACZrB,MAAOf,EAASI,SAChBiC,SAAU1B,EACV2B,UAAQ,KAEVpB,EAAAA,EAAAA,KAAA,UAAQiB,KAAK,SAASI,SAAUlC,EAAaG,UAAUY,SACpDf,EAAaG,UAAY,gBAAkB,cAGhDU,EAAAA,EAAAA,KAACsB,EAAAA,GAAI,CAACC,GAAG,YAAWrB,SAAC,6CAEnB,C","sources":["components/Login/Login.jsx"],"sourcesContent":["import React, { useState, useCallback } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport \"./Login.css\";\r\n\r\nconst Login = ({ setAuth }) => {\r\n  const [formData, setFormData] = useState({ mobileNo: \"\", password: \"\" });\r\n  const [submitStatus, setSubmitStatus] = useState({\r\n    error: \"\",\r\n    isLoading: false,\r\n  });\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = useCallback((e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({ ...prevData, [name]: value }));\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setSubmitStatus({ error: \"\", isLoading: true });\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        \"https://localhost:5000/api/login\",\r\n        formData\r\n      );\r\n\r\n      if (response.data.success) {\r\n        Cookies.set(\"auth\", \"true\");\r\n        setAuth(true);\r\n        navigate(\"/\");\r\n      } else {\r\n        setSubmitStatus({\r\n          error:\r\n            response.data.message ||\r\n            \"An unexpected error occurred during login\",\r\n          isLoading: false,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Login error:\", err);\r\n      setSubmitStatus({\r\n        error: \"An error occurred during login. Please try again.\",\r\n        isLoading: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-wrapper\">\r\n      <div className=\"login-container\">\r\n        <h2>Login</h2>\r\n        {submitStatus.error && <p className=\"error\">{submitStatus.error}</p>}\r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"mobileNo\"\r\n            placeholder=\"Mobile Number\"\r\n            value={formData.mobileNo}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <button type=\"submit\" disabled={submitStatus.isLoading}>\r\n            {submitStatus.isLoading ? \"Logging in...\" : \"Login\"}\r\n          </button>\r\n        </form>\r\n        <Link to=\"/register\">Don't have an account? Register here</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["_ref","setAuth","formData","setFormData","useState","mobileNo","password","submitStatus","setSubmitStatus","error","isLoading","navigate","useNavigate","handleChange","useCallback","e","name","value","target","prevData","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","response","axios","post","data","success","Cookies","set","message","err","console","type","placeholder","onChange","required","disabled","Link","to"],"sourceRoot":""}