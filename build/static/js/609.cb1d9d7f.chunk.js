"use strict";(self.webpackChunkvyvsai_website=self.webpackChunkvyvsai_website||[]).push([[609],{609:(e,r,s)=>{s.r(r),s.d(r,{default:()=>c});var a=s(43),o=s(216),i=s(475),n=s(213),t=s(880),l=s(579);const c=e=>{let{setAuth:r}=e;const[s,c]=(0,a.useState)({mobileNo:"",password:""}),[d,u]=(0,a.useState)({error:"",isLoading:!1}),g=(0,o.Zp)(),p=(0,a.useCallback)((e=>{const{name:r,value:s}=e.target;c((e=>({...e,[r]:s})))}),[]);return(0,l.jsx)("div",{className:"login-wrapper",children:(0,l.jsxs)("div",{className:"login-container",children:[(0,l.jsx)("h2",{children:"Login"}),d.error&&(0,l.jsx)("p",{className:"error",children:d.error}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u({error:"",isLoading:!0});try{const e=await n.A.post("https://localhost:5000/api/login",s);e.data.success?(t.A.set("auth","true"),r(!0),g("/")):u({error:e.data.message||"An unexpected error occurred during login",isLoading:!1})}catch(a){console.error("Login error:",a),u({error:"An error occurred during login. Please try again.",isLoading:!1})}},children:[(0,l.jsx)("input",{type:"text",name:"mobileNo",placeholder:"Mobile Number",value:s.mobileNo,onChange:p,required:!0}),(0,l.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:p,required:!0}),(0,l.jsx)("button",{type:"submit",disabled:d.isLoading,children:d.isLoading?"Logging in...":"Login"})]}),(0,l.jsx)(i.N_,{to:"/register",children:"Don't have an account? Register here"})]})})}}}]);
//# sourceMappingURL=609.cb1d9d7f.chunk.js.map