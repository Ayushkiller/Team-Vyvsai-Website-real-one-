"use strict";(self.webpackChunkvyvsai_website=self.webpackChunkvyvsai_website||[]).push([[924],{924:(e,r,s)=>{s.r(r),s.d(r,{default:()=>c});var a=s(43),i=s(475),n=s(213);const t=async e=>{try{return(await n.A.post("https://localhost:5000/api/register",e)).data}catch(r){throw r}};var l=s(579);const c=()=>{const[e,r]=(0,a.useState)({username:"",mobileNo:"",email:"",password:"",preferences:""}),[s,n]=(0,a.useState)({}),[c,o]=(0,a.useState)(!1),[d,u]=(0,a.useState)({error:"",success:!1}),m=(0,a.useCallback)((()=>{const r={},{username:s,mobileNo:a,email:i,password:n,preferences:t}=e;return s.trim()||(r.username="Username is required"),a.trim()?/^\d{10}$/.test(a)||(r.mobileNo="Invalid contact number"):r.mobileNo="Contact number is required",i.trim()?/\S+@\S+\.\S+/.test(i)||(r.email="Invalid email address"):r.email="Email is required",n.trim()?n.length<8&&(r.password="Password must be at least 8 characters"):r.password="Password is required",t||(r.preferences="Please select a preference"),r}),[e]),p=(0,a.useCallback)((e=>{const{name:s,value:a}=e.target;r((e=>({...e,[s]:a}))),n((e=>({...e,[s]:""})))}),[]),h=function(r,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";return(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:r,children:a}),(0,l.jsx)("input",{id:r,name:r,type:i,value:e[r],onChange:p,"aria-invalid":s[r]?"true":"false","aria-describedby":s[r]?`${r}-error`:void 0}),s[r]&&(0,l.jsx)("p",{id:`${r}-error`,className:"error",children:s[r]})]})};return(0,l.jsxs)("div",{className:"register-container",children:[(0,l.jsx)("h1",{children:"Register"}),(0,l.jsxs)("form",{onSubmit:async r=>{r.preventDefault();const s=m();if(Object.keys(s).length>0)n(s);else{o(!0),u({error:"",success:!1});try{await t(e),u({error:"",success:!0})}catch(l){var a,i;console.error("Error submitting data:",l),u({error:(null===(a=l.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Registration failed",success:!1})}finally{o(!1)}}},noValidate:!0,children:[h("username","Username"),h("mobileNo","Contact Number","tel"),h("email","Email","email"),h("password","Password","password"),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"preferences",children:"Notification Preferences"}),(0,l.jsxs)("select",{id:"preferences",name:"preferences",value:e.preferences,onChange:p,"aria-invalid":s.preferences?"true":"false","aria-describedby":s.preferences?"preferences-error":void 0,children:[(0,l.jsx)("option",{value:"",children:"Select preference"}),(0,l.jsx)("option",{value:"government-tenders",children:"Government Tenders"})]}),s.preferences&&(0,l.jsx)("p",{id:"preferences-error",className:"error",children:s.preferences})]}),d.error&&(0,l.jsx)("div",{className:"alert error",children:(0,l.jsx)("p",{children:d.error})}),d.success&&(0,l.jsx)("div",{className:"alert success",children:(0,l.jsx)("p",{children:"Registration successful!"})}),(0,l.jsx)("button",{type:"submit",disabled:c,children:c?"Registering...":"Register"})]}),(0,l.jsxs)("p",{className:"login-link",children:["Already have an account? ",(0,l.jsx)(i.N_,{to:"/login",children:"Login here"})]})]})}}}]);
//# sourceMappingURL=924.db3815e1.chunk.js.map